<div class="modalbox">

  <ion-row class="is-topStickyHeader">
    <ion-col size="10" class="ion-text-start heading">
      <p class="header">New Contact</p>
    </ion-col>
    <ion-col size="2">
      <a class="clearicon" mat-icon-button (click)="closepopup()">
        <ion-icon name="close-outline"></ion-icon>
      </a>
    </ion-col>
  </ion-row>

  <div class="modalbody">
    <ion-row>
      <ion-col size="12" size-sm="12" size-md="12" size-lg="12" size-xl="12" class="is-d-flex is-justify-content-center">
        <div class="is-profile text-center">
          <div *ngIf="imgsrc == 'NC'">
            <span class="is-profile bg-blue">NC</span>
          </div>
          <div *ngIf="imgsrc != 'NC'">
            <img class="_image" [src]="_d.bypassSecurityTrustUrl(imgsrc)" alt="{{ productName }}"/>
          </div>
          <input type="file" accept=".jpg,.jpeg,.png" #fileInput class="_uploadBtn"
            (change)="fileChange($event)"/>
          <button mat-icon-button (click)="fileInput.click()" class="_Upload">
            <span class="material-icons-outlined _uploadIcon">image</span>
          </button>
        </div>
      </ion-col>
    </ion-row>
    <form [formGroup]="contactForm" class="_contactForm" autocomplete="off">
      <ion-row class="mb-2">
        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>First Name</mat-label>
            <input type="text" matInput maxlength="50" placeholder="First Name" formControlName="fname" class="inputfield"
            oninput="this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ><?:!@#$%^&*|[] ]|^ /g,'')" required/>
            <mat-error *ngIf="contactForm.get('fname').hasError('invalid') || contactForm.get('fname').hasError('required')">
              First Name is required!
            </mat-error>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>Last Name</mat-label>
              <input type="text" matInput maxlength="50" placeholder="Last Name" formControlName="lname" class="inputfield"
              oninput="this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ><?:!@#$%^&*|[] ]|^ /g,'')"/>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="12" size-lg="12" size-xl="12" class="inputfileds">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>Email</mat-label>
            <input type="text" matInput maxlength="50" placeholder="Email" formControlName="email" class="inputfield"/>
            <mat-error *ngIf="contactForm.get('email').hasError('email') && contactForm.get('email').hasError('pattern')">
              Email must be a valid!
            </mat-error>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6" class="inputfileds">
          <mat-form-field class="expiry-date" appearance="outline">
            <mat-label>Date of Birth</mat-label>
              <input matInput id="date" [matDatepicker]="picker" formControlName="dob" [max]="maxDate" readonly/>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6" class="inputfileds">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>Phone Number</mat-label>
            <input type="text" matInput placeholder="Phone Number" numbersOnly maxlength="10" class="inputfield"
              formControlName="phone" maxlength="10" oninput="this.value = this.value.replace(/[^0-9]|^ /g,'')"/>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="12" size-lg="12" class="ion-text-center inputfileds">
          <mat-form-field class="example-full" appearance="outline">
            <mat-label>Address (Area or Street)</mat-label>
            <textarea matInput formControlName="address" class="inputfield"></textarea>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6" class="inputfileds">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>City</mat-label>
            <input type="text" matInput maxlength="50" placeholder="City"formControlName="city" class="inputfield"
              oninput="this.value = this.value.replace(/[^A-Za-z]|^ /g,'')"/>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6" class="inputfileds">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>State</mat-label>
            <input type="text" matInput maxlength="50" placeholder="State" formControlName="state" class="inputfield"
              oninput="this.value = this.value.replace(/[^A-Za-z]|^ /g,'')"/>
          </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6" class="inputfileds">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>Country</mat-label>
            <input type="text" matInput maxlength="50" placeholder="Country" formControlName="country" class="inputfield"
              oninput="this.value = this.value.replace(/[^A-Za-z]|^ /g,'')"/>
            </mat-form-field>
        </ion-col>

        <ion-col size="12" size-sm="12" size-md="6" size-lg="6" size-xl="6" class="inputfileds">
          <mat-form-field class="example-full-width is-contact" appearance="outline">
            <mat-label>Postal Code</mat-label>
            <input type="text" matInput placeholder="Postal Code" maxlength="6" formControlName="postcode" class="inputfield"
              oninput="this.value = this.value.replace(/[^0-9]|^ /g,'')"/>
          </mat-form-field>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-sm="12" size-md="12" size-lg="12" class="is-d-flex is-justify-content-center">
          <button mat-raised-button color="primary" [disabled]="clicked" (click)="OnAddContact()">Save</button>
        </ion-col>
      </ion-row>
    </form>
  </div>

</div>